<template name="qnaire_list">
    <style>
        .qnaire-list-item {
            display: flex;
            width: 100%;
            margin: auto;
        }
        .qnaire-list-item > a {
            width: 100%;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
        .delete-qnaire {
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        .create-qnaire {
            width: 100%;
            margin: auto;
        }
    </style>
    <div class="container">
        {{#if Template.subscriptionsReady}}
        <div class="create-qnaire" style="background-color: #eee; margin-bottom: 2%; padding: 2%; border-radius: 5px;">
            <h3>Create new questionnaire</h3>
            <div class="form-group">
                <label for="new-qnaire-title">Title:</label>
                <input id="new-qnaire-title" class="form-control" type="text">
            </div>
            <div class="form-group">
                <label for="new-qnaire-descr">Description:</label>
                <textarea id="new-qnaire-descr" class="form-control"></textarea>
            </div>
            <button type="button" id="create-qnaire" class="btn btn-primary">Create</button>
        </div>
        <div class="list-group">
        {{#each qnaire in questionnaires}}
            <div class="qnaire-list-item">
                <a class="list-group-item list-group-item-action " href="/qnaireBuild/{{qnaire._id}}">
                    <span>{{qnaire.title}}</span>
                </a>
                <button class="btn btn-danger btn-small delete-qnaire" data-qnrid="{{qnaire._id}}" data-target="#confirm-delete"><span class="glyphicon glyphicon-trash" data-qnrid="{{qnaire._id}}"></span></button>
            </div>
        {{/each}}
        </div>

        {{/if}}
    </div>
    <div class="modal" tabindex="-1" role="dialog" id="confirm-delete">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p>Are you sure you want to delete this qnaire?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" id="delete">Yes, Delete</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">No, Go Back</button>
                </div>
            </div>
        </div>
    </div>
</template>
